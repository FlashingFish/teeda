<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN">
<html>
<!-- don't edit start -->
<head>
<title>Teeda - JSF meets DI and AOP - </title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Style-Type" content="text/css">
<link href="seasar_b.css" type="text/css" rel="stylesheet" media="screen" />
<link href="seasar_p.css" type="text/css" rel="stylesheet" media="print" />
<script src="seasar_b.js" type="text/JavaScript" language="JavaScript"></script>
</head>
<body onload="preload('ja')">
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="left" height="100%"><tr>
<td align="left" valign="top" width="780"><table width="780" border="0" cellspacing="0" cellpadding="0" class="white">
<tr><td colspan="7"><img height="5" width="780" src="images/top01_b.gif" alt=""></td></tr>
<tr><td><img height="117" width="235" src="images/top02_b.gif" alt="Seasar"></td>
<td colspan="3"><img height="117" width="289" src="images/top03.gif" alt="DI Container with AOP"></td>
<td colspan="3"><img height="117" width="256" src="images/spacer.gif" alt=""></td>
</tr><tr><td rowspan="2"><img src="images/top04.gif" alt="" height="49" width="235"></td>
<td><a href="http://www.seasar.org/index.html"><img src="images/menu01_b_ja.gif" height="30" width="78" border="0" alt="" id="menu01" onmouseover="swap(1)" onmouseout="restore(1)"></a></td>
<td><a href="http://www.seasar.org/projects.html"><img src="images/menu02_b_ja.gif" height="30" width="101" border="0" alt="" id="menu02" onmouseover="swap(2)" onmouseout="restore(2)"></a></td>
<td><a href="http://www.seasar.org/products.html"><img src="images/menu03_b_ja.gif" height="30" width="110" border="0" alt="" id="menu03" onmouseover="swap(3)" onmouseout="restore(3)"></a></td>
<td><a href="http://www.seasar.org/resources.html"><img src="images/menu04_b_ja.gif" height="30" width="113" border="0" alt="" id="menu04" onmouseover="swap(4)" onmouseout="restore(4)"></a></td>
<td><img src="images/menu05_b_ja.gif" height="30" width="109" border="0" alt="" id="menu05" onmouseover="swap(5)" onmouseout="restore(5)"></td>
<td><img height="30" width="34" src="images/menu06.gif" alt=""></td></tr><tr>
<td colspan="6"><img height="19" width="545" src="images/spacer.gif" alt=""></td></tr></table>
<table  width="780" border="0" cellspacing="0" cellpadding="0" class="white">
<tr align="left" valign="top"><td width="14"><img height="14" width="14" src="images/spacer.gif" alt=""></td><td width="740" class="main">
<!-- don't edit end -->
<!-- document start -->
<br/>
<div class="document" id="customize-list">
<h2 class="subtitle" id="id1">HTMLプロトタイプを作成する際のガイドライン</h2>
<p>このドキュメントではTeeda&nbsp;ExtensionにおけるHTMLプロトタイプを作成する際のガイドラインについて記述します．</p>

<p>
このドキュメントで想定しているHTMLプロトタイプ作成の目的は、お客様に外部仕様を確認して頂くことです。
よって、目的に該当しない範囲のHTMLの作り込みについては、後のフェーズで行うことを想定しています。<br/>
（プロトタイプとしてHTMLを作成するフェーズでは、HTMLテンプレートを最終形態まで作り込まない。）
</p>

<p>
また、このドキュメントでは、外部仕様に関わるHTMLやCSSについては、限りなく最終形態に近いところまで作り込む手法を前提としています。
</p>

<ul class="arabic simple">
<li><a href="#important">重要事項</a></li>
<li><a href="#xhtml">xhtmlの注意点</a></li>
<li><a href="#optional">余力があればやる事項</a></li>
<li><a href="#layout">レイアウト機能</a></li>
</ul>
</div>

<div class="section">
<h2><a id="important" name="important">重要事項</a></h2>
<p>TeedaのHTMLテンプレートを使って、HTMLプロトタイプを作成する際の重要項目について説明します。</p>


<h3>推奨文字コード</h3>
<p>UTF-8</p>
<br />

<h3>HTMLファイルの命名規約</h3>
<p>
HTMLファイルは、ラクダ文字（１文字目は小文字）にします。
</p>
<dl>
  <dt>良い例</dt><dd>hogeFuga.html</dd>
  <dt>悪い例</dt><dd>hoge_fuga.html</dd>  
</dl>
<br />

<h3>拡張子</h3>
<dl>
  <dt>Teedaが認識するHTML</dt><dd>.html</dd>
  <dt>Teedaが認識しないHTML</dt><dd>.htm</dd>  
</dl>
<p>
『Teedaが認識しないHTML』は、例えば、Webアプリケーションのヘルプや説明ページなど
主にデザイナが制作するようなコンテンツ系のページを warファイルに含めるような状況を想定しています。
</p>
<br />

<h3>コンテンツの形式</h3>
<p>
xhtml形式
<br />
<br />
参考：<a href="http://www.kanzaki.com/docs/html/xhtml1.html">XHTMLの書き方と留意点</a>
</p>
<br />


<h3>画面遷移</h3>
<dl>
  <dt>リンク</dt><dd>相対パスでリンクを貼っておく</dd>
  <dt>フォーム</dt><dd>ボタンにJavaScriptを書く</dd>  
</dl>

フォームのボタンにJavaScriptを記述した例：
<pre class="literal-block">
&lt;input type="button" value="次へ" onclick="location.href='hoge.html'"/&gt;
</pre>
<br />



<h3>ディレクトリ構成</h3>
以下の構成とします。
<pre class="literal-block">
 webapp
  + css
  + img
  + js
  + view
    + subapplication1
    + subapplication2
    + subapplication3
</pre>
<p>
サブアプリケーション（≒ディレクトリ）の粒度は、属人性が出やすい箇所です。
業務的にはユースケースを意識して、
システム的には「別サブアプリケーションに移るとPageのプロパティ状態が破棄される」
を意識して作成します。
</p>
<br />

<h3> 繰り返し項目のネスト</h3>
<p>
表示の場合のみ可能です。
</p>
<br />

<h3>HTMLファイルの雛形</h3>
<pre class="literal-block">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form id="form"&gt;


&lt;/form&gt;
&lt;/body&gt;&lt;/html&gt;
</pre>
<br />

<p>
※ Doltengを使って以下の操作で生成されるHTML雛形を使う方法もあります。
<br />
<br />
　　　　　[ファイル] - [新規] - [その他] - [Chura] - [Teeda HTML]
</p>
<br />

<h3>formタグ</h3>
formタグは付け忘れて開発時に悩むケースが多いので、
以下のようにbodyタグの前後に予め記述しておきます。
<pre class="literal-block">
&lt;body&gt;
&lt;form id="form"&gt;

...

&lt;/form&gt;
&lt;/body&gt;
</pre>

<br>
<br>
<hr>

<h2><a id="xhtml" name="xhtml">xhtmlの注意点</a></h2>
<p>Teeda ExtensionのView部分には xhtmlを用います。ここでは、xhtmlを使用する際の一般的な注意点について説明します。</p>


<h3>空要素タグを ' /&gt;'で閉じる</h3>

<dl>
  <dt>良い例</dt>
  <dd>
    <pre class="literal-block">
&lt;br /&gt;</pre>
  </dd>
  <dt>悪い例</dt>
  <dd>
    <pre class="literal-block">
&lt;br&gt;</pre>
  </dd>  
</dl>

<br />
<p>
※ ブラウザの誤認識を避けるために /&gt; の前にスペースを置くこと。
</p>
<br />

<h3>全てのタグ（要素タイプ名、属性名）は小文字で記述する</h3>
<p>
全てのタグ（要素タイプ名、属性名）は小文字で記述します。ただし、te: で始まるTeeda専用のタグや属性名は例外とします。
<br />
<br />

<b>例：</b>
</p>
<pre class="literal-block">
&lt;te:includeChildBody /&gt;
</pre>
<br>


<h3>タグの属性値</h3>
<p>
属性の値は必ず引用符で囲みます。（属性値が数字であっても囲む）
<br>
<b>例：</b><br>
　　width="100"
</p>
<br>


<h3>閉じタグを省略しない</h3>
<pre class="literal-block">
&lt;ul&gt;
   &lt;li&gt;ある項目<span style="color: red;">&lt;/li&gt;</span>
&lt;/ul&gt;
</pre>
<p>
※ liの閉じタグの省略は不可。
</p>
<br>


<h3>URL中の&amp;は&amp;amp;と記述する</h3>
<p>HTMLの仕様なのでTeedaに限った話ではありませんが、クエリーストリングで使用する &amp; については、&amp;amp; で記述することを推奨します。</p>
<b>良い例</b><br />
<pre class="literal-block">
&lt;a href="and.html?aaa=aaa<span style="color: red;">&amp;amp;</span>copy=bbb"&gt;bbbb&lt;/a&gt;
</pre>

<b>悪い例</b><br />
<pre class="literal-block">
&lt;a href="and.html?aaa=aaa<span style="color: red;">&amp;</span>copy=bbb"&gt;bbbb&lt;/a&gt;
</pre>
<p>
上記の悪い例は、ブラウザがクエリーストリング内の &amp;copy を © と誤認識してしまいます。<br>
<br>
実際のところ &amp; でもうまく動作するケースがほとんどなのですが、HTMLの仕様に準拠して &amp;amp; を使うことは不毛なトラブルを避けれるメリットがあります。<br>
<br>
興味のある方は、下記をご覧下さい。
<br>
[RFC1866] 8.2.1. The form-urlencoded Media Type<br>
<a href="http://www.ietf.org/rfc/rfc1866.txt">http://www.ietf.org/rfc/rfc1866.txt</a>
</p>


<h3>属性の省略書式は使わない</h3>
<b>良い例</b><br />
<pre class="literal-block">
&lt;input type="radio" name="bar" <span style="color: red;">checked="checked"</span> /&gt;
</pre>

<b>悪い例</b><br />
<pre class="literal-block">
&lt;input type="radio" name="bar" <span style="color: red;">checked</span> /&gt;
</pre>

<br>
<hr>





<h2><a id="optional" name="optional">余力があればやる事項</a></h2>
<p>プロトタイプ作成の目的をお客様との仕様確認と考えると、
蛇足になってしまうかも知れないが、余力があればやっておいた方が良いという事項を以下に説明します。</p>
<br>
<h3>インデント</h3>
<p>
プロジェクトごとで決めておく。<br>
推奨は スペース２個。
</p>
<br>

<h3>エラーメッセージ用のスタイルシート</h3>
<p>
onTeedaErrorという名称のスタイルシートを設定しておくと自動的にバリデーションにエラーになった時に、指定された色を入力項目に反映するようなことができます。
<br>
例：<br>
</p>
<pre class="literal-block">
.onTeedaError {
  background-color: red;
}
</pre>
<br>

<h3>コンディション機能（条件によって表示・非表示）</h3>
<p>
条件によって表示・非表示する箇所はdivタグ、もしくは、spanタグで囲い、そのタグに isもしくはisNotで始まるid属性をつけておきます。
<br>
例：<br>
</p>
<pre class="literal-block">
&lt;div id="isAaa"&gt;
...
&lt;/div&gt;
</pre>
※ spanタグでコンディション機能を使うには、Teeda Extensionの1.0.8以上が必要です。
<br>

<h3>画面項目(spanタグ)</h3>
<p>
Pageのプロパティをセットする画面項目はspanタグで囲っておきます。<br>
さらに、余力があればid属性も書いておきます。（id属性値を考える時間が無ければ、 "" にしておく）
</p>
<br>

<h3>モック用JavaScript</h3>
<p>
アプリ実行時に不要となるMock用JavaScriptはmockから始めるid属性を持つタグで囲っておきます。
<br>
<br>
例：
</p>
<pre class="literal-block">
&lt;script id="mockJavaScript" type="text/javascript"&gt;
...
&lt;/script&gt;
</pre>

<br>
<br>

<hr>
<h2><a id="layout" name="layout">レイアウト機能</a></h2>
<p>
StrutsのTilesに相当する機能。HTMLテンプレートの継承により、親HTML側にヘッダーやフッター、メニュー等の共通レイアウト要素を記述することができる機能です。
レイアウト機能は、サーバーサイド版とクライアントサイド版が存在します。併用して使用することを推奨します。
</p>
<h3>レイアウト機能（サーバサイド版）</h3>
<p>
レイアウト機能の詳細については<a href="http://teeda.seasar.org/ja/extension_features.html#layout">こちら</a>をご覧下さい。
</p>
<br>

<h3>レイアウト機能（クライアントサイド版）</h3>
<p>
Kumu(kumu.js)という JavaScriptのライブラリを使ってクライアントサイドでレイアウト機能を実現することができます。
実現するプラットフォームが異なるだけで、機能的にはサーバーサイド版のレイアウト機能と同じです。
個別のHTMLファイルには、ヘッダーやフッター、メニュー要素が存在しないにも関わらず、
Teedaを経由せずにローカルでそのままHTMLファイルを開けば、ヘッダーやフッター、メニュー等が描画される機能です。<br>
<br>
例えば、webappフォルダのアーカイブをお客様に送付すれば、Tomcat等の開発環境を使わないお客様に対して、
手軽に仕様（HTMLプロトタイプ）を確認してもらえることができます。開発者にとっても、ダミー用のヘッダーやフッターに
埋もれることのないスッキリとしたHTMLファイル上でコーディングできるメリットがあります。
<br>
<br>
詳細については<a href="http://teeda.seasar.org/ja/kumu.html">[『Kumuとは』のレイアウト機能]</a>をご覧下さい。

</p>

<br>
<br>


</div>

<!-- document end -->
<!-- don't edit start -->
</td>
<td width="14"><img height="14" width="14" src="images/spacer.gif" alt=""></td>
</tr><tr>
<td width="14"><img height="30" width="14" src="images/spacer.gif" alt=""></td>
<td width="766"><img height="30" width="592" src="images/spacer.gif" alt=""></td>
</tr><tr>
<td width="14"><img height="14" width="14" src="images/spacer.gif" alt=""></td>
<td width="766" class="copyright">Copyright&copy; 2005-2007, The Seasar Foundation and the others. All rights reserved.</td>
</tr></table>
<td class="backright" align="left" valign="top">&nbsp;</td></tr><tr>
<td class="backunder" align="left"  valign="top" width="780" height="16">&nbsp;</td>
<td class="backcorner" align="left" valign="top" height="16">&nbsp;</td>
</tr>
</table>
</body>
<!-- document end -->
</html>


